# üìä –°—Ç–∞—Ç—É—Å Yandex Wordstat API v1 Integration

## ‚úÖ –í—Å–µ 5 –º–µ—Ç–æ–¥–æ–≤ –ü–û–õ–ù–û–°–¢–¨–Æ –†–ï–ê–õ–ò–ó–û–í–ê–ù–´ –ò –†–ê–ë–û–¢–ê–Æ–¢!

–î–∞—Ç–∞ –ø–æ—Å–ª–µ–¥–Ω–µ–π –ø—Ä–æ–≤–µ—Ä–∫–∏: **15 –æ–∫—Ç—è–±—Ä—è 2025 –≥., 01:40 UTC+3**

---

## üéØ –°–ø–∏—Å–æ–∫ –º–µ—Ç–æ–¥–æ–≤ –∏ —Å—Ç–∞—Ç—É—Å

| ‚Ññ | –ú–µ—Ç–æ–¥ | API Endpoint | –°—Ç–∞—Ç—É—Å | –ü–æ—Å–ª–µ–¥–Ω—è—è –ø—Ä–æ–≤–µ—Ä–∫–∞ |
|---|-------|--------------|--------|--------------------|
| 1Ô∏è‚É£ | `wordstat_get_user_info` | `/v1/userInfo` | ‚úÖ **–†–ê–ë–û–¢–ê–ï–¢** | 01:39:51 |
| 2Ô∏è‚É£ | `wordstat_get_top_requests` | `/v1/topRequests` | ‚úÖ **–†–ê–ë–û–¢–ê–ï–¢** | 01:39:56 |
| 3Ô∏è‚É£ | `wordstat_get_regions` | `/v1/regions` | ‚úÖ **–†–ê–ë–û–¢–ê–ï–¢** | 01:40:14 |
| 4Ô∏è‚É£ | `wordstat_get_dynamics` | `/v1/dynamics` | ‚úÖ **–†–ê–ë–û–¢–ê–ï–¢** | 01:40:29 |
| 5Ô∏è‚É£ | `wordstat_get_regions_tree` | `/v1/getRegionsTree` | ‚úÖ **–†–ê–ë–û–¢–ê–ï–¢** | –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω |

---

## üìã –î–µ—Ç–∞–ª—å–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –º–µ—Ç–æ–¥–æ–≤

### 1Ô∏è‚É£ `wordstat_get_user_info`

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –ü–æ–ª—É—á–µ–Ω–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ Wordstat API

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:** –ù–µ—Ç

**–í–æ–∑–≤—Ä–∞—â–∞–µ–º—ã–µ –¥–∞–Ω–Ω—ã–µ:**
- –õ–æ–≥–∏–Ω –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- –õ–∏–º–∏—Ç –∑–∞–ø—Ä–æ—Å–æ–≤ –≤ —Å–µ–∫—É–Ω–¥—É
- –î–Ω–µ–≤–Ω–æ–π –ª–∏–º–∏—Ç –∑–∞–ø—Ä–æ—Å–æ–≤
- –û—Å—Ç–∞—Ç–æ–∫ –∑–∞–ø—Ä–æ—Å–æ–≤ –Ω–∞ —Å–µ–≥–æ–¥–Ω—è

**–ü—Ä–∏–º–µ—Ä —É—Å–ø–µ—à–Ω–æ–≥–æ –æ—Ç–≤–µ—Ç–∞:**
```
‚úÖ Wordstat API —Ä–∞–±–æ—Ç–∞–µ—Ç!

üë§ –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ:
- –õ–æ–≥–∏–Ω: horpho
- –õ–∏–º–∏—Ç –∑–∞–ø—Ä–æ—Å–æ–≤/—Å–µ–∫: 10
- –î–Ω–µ–≤–Ω–æ–π –ª–∏–º–∏—Ç: 1024
- –û—Å—Ç–∞–ª–æ—Å—å –∑–∞–ø—Ä–æ—Å–æ–≤ —Å–µ–≥–æ–¥–Ω—è: 1019

üîß –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –≤ —Å–∏—Å—Ç–µ–º–µ:
- Client ID: c654b948515a4a07a4c89648a0831d40
- Access Token: ‚úì —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –∏ —Ä–∞–±–æ—Ç–∞–µ—Ç
```

---

### 2Ô∏è‚É£ `wordstat_get_top_requests`

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –ü–æ–ª—É—á–µ–Ω–∏–µ —Ç–æ–ø–∞ –ø–æ–∏—Å–∫–æ–≤—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤ –∏ –∞—Å—Å–æ—Ü–∏–∞—Ü–∏–π

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `phrase` (string, –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π) ‚Äî –ö–ª—é—á–µ–≤–æ–µ —Å–ª–æ–≤–æ –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞
- `numPhrases` (integer, –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: 50) ‚Äî –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–ø—Ä–æ—Å–æ–≤
- `regions` (array of integers, –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: [225]) ‚Äî ID —Ä–µ–≥–∏–æ–Ω–æ–≤ (225 = –†–æ—Å—Å–∏—è)
- `devices` (array of strings, –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: ["all"]) ‚Äî –£—Å—Ç—Ä–æ–π—Å—Ç–≤–∞: `all`, `desktop`, `phone`, `tablet`

**‚ö†Ô∏è –í–ê–ñ–ù–û:** –ù–ï –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ `"mobile"`! –¢–æ–ª—å–∫–æ `"phone"` –∏ `"tablet"`.

**–í–æ–∑–≤—Ä–∞—â–∞–µ–º—ã–µ –¥–∞–Ω–Ω—ã–µ:**
- –û–±—â–µ–µ —á–∏—Å–ª–æ –∑–∞–ø—Ä–æ—Å–æ–≤
- –¢–æ–ø-–∑–∞–ø—Ä–æ—Å—ã —Å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ–º –ø–æ–∫–∞–∑–æ–≤
- –ü–æ—Ö–æ–∂–∏–µ –∑–∞–ø—Ä–æ—Å—ã (–∞—Å—Å–æ—Ü–∏–∞—Ü–∏–∏)

**–ü—Ä–∏–º–µ—Ä –∑–∞–ø—Ä–æ—Å–∞:**
```json
{
  "phrase": "–∫—É–ø–∏—Ç—å –Ω–æ—Å–∫–∏",
  "numPhrases": 10,
  "regions": [225],
  "devices": ["desktop"]
}
```

**–ü—Ä–∏–º–µ—Ä —É—Å–ø–µ—à–Ω–æ–≥–æ –æ—Ç–≤–µ—Ç–∞:**
```
‚úÖ –¢–æ–ø –∑–∞–ø—Ä–æ—Å–æ–≤ –¥–ª—è '–∫—É–ø–∏—Ç—å –Ω–æ—Å–∫–∏'

üìä –û–±—â–µ–µ —á–∏—Å–ª–æ –∑–∞–ø—Ä–æ—Å–æ–≤: 70041

üîù –°–∞–º—ã–µ –ø–æ–ø—É–ª—è—Ä–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã:
1. –∫—É–ø–∏—Ç—å –Ω–æ—Å–∫–∏: 70041 –ø–æ–∫–∞–∑–æ–≤
2. –∫—É–ø–∏—Ç—å –Ω–æ—Å–∫–∏ –º—É–∂—Å–∫–∏–µ: 19708 –ø–æ–∫–∞–∑–æ–≤
3. –∫—É–ø–∏—Ç—å –∂–µ–Ω—Å–∫–∏–µ –Ω–æ—Å–∫–∏: 8904 –ø–æ–∫–∞–∑–æ–≤
...
```

---

### 3Ô∏è‚É£ `wordstat_get_regions`

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –ü–æ–ª—É—á–µ–Ω–∏–µ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –ø–æ —Ä–µ–≥–∏–æ–Ω–∞–º

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `phrase` (string, –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π) ‚Äî –ö–ª—é—á–µ–≤–æ–µ —Å–ª–æ–≤–æ
- `regionType` (string, –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: "all") ‚Äî –¢–∏–ø —Ä–µ–≥–∏–æ–Ω–æ–≤: `all`, `cities`, `regions`
- `devices` (array of strings, –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: ["all"]) ‚Äî –£—Å—Ç—Ä–æ–π—Å—Ç–≤–∞: `all`, `desktop`, `phone`, `tablet`

**‚ö†Ô∏è –í–ê–ñ–ù–û:** –ù–ï –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ `"mobile"`! Yandex API –≤–µ—Ä–Ω–µ—Ç –æ—à–∏–±–∫—É `400 - Unknown device: mobile`.

**–í–æ–∑–≤—Ä–∞—â–∞–µ–º—ã–µ –¥–∞–Ω–Ω—ã–µ:**
- ID —Ä–µ–≥–∏–æ–Ω–∞
- –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–ø—Ä–æ—Å–æ–≤
- –î–æ–ª—è (%)
- –ò–Ω–¥–µ–∫—Å –∏–Ω—Ç–µ—Ä–µ—Å–∞ (%)

**–ü—Ä–∏–º–µ—Ä –∑–∞–ø—Ä–æ—Å–∞:**
```json
{
  "phrase": "–∫—É–ø–∏—Ç—å –Ω–æ—Å–∫–∏",
  "regionType": "all",
  "devices": ["desktop"]
}
```

**–ü—Ä–∏–º–µ—Ä —É—Å–ø–µ—à–Ω–æ–≥–æ –æ—Ç–≤–µ—Ç–∞:**
```
‚úÖ –†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –ø–æ —Ä–µ–≥–∏–æ–Ω–∞–º –¥–ª—è '–∫—É–ø–∏—Ç—å –Ω–æ—Å–∫–∏'

üìç –†–µ–≥–∏–æ–Ω ID 1:
   –ó–∞–ø—Ä–æ—Å–æ–≤: 4312
   –î–æ–ª—è: 0.0007%
   –ò–Ω–¥–µ–∫—Å –∏–Ω—Ç–µ—Ä–µ—Å–∞: 136.81%
üìç –†–µ–≥–∏–æ–Ω ID 2:
   –ó–∞–ø—Ä–æ—Å–æ–≤: 1469
   –î–æ–ª—è: 0.0007%
   –ò–Ω–¥–µ–∫—Å –∏–Ω—Ç–µ—Ä–µ—Å–∞: 144.54%
...
```

---

### 4Ô∏è‚É£ `wordstat_get_dynamics`

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –ü–æ–ª—É—á–µ–Ω–∏–µ –¥–∏–Ω–∞–º–∏–∫–∏ –∑–∞–ø—Ä–æ—Å–æ–≤ –ø–æ –≤—Ä–µ–º–µ–Ω–∏

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `phrase` (string, –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π) ‚Äî –ö–ª—é—á–µ–≤–æ–µ —Å–ª–æ–≤–æ
- `period` (string, –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: "monthly") ‚Äî –ü–µ—Ä–∏–æ–¥: `monthly`, `weekly`, `daily`
- `fromDate` (string, –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π) ‚Äî –î–∞—Ç–∞ –Ω–∞—á–∞–ª–∞ –≤ —Ñ–æ—Ä–º–∞—Ç–µ `YYYY-MM-DD`
- `toDate` (string, –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π) ‚Äî –î–∞—Ç–∞ –æ–∫–æ–Ω—á–∞–Ω–∏—è –≤ —Ñ–æ—Ä–º–∞—Ç–µ `YYYY-MM-DD`
- `regions` (array of integers, –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: [225]) ‚Äî ID —Ä–µ–≥–∏–æ–Ω–æ–≤
- `devices` (array of strings, –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: ["all"]) ‚Äî –£—Å—Ç—Ä–æ–π—Å—Ç–≤–∞

**–í–æ–∑–≤—Ä–∞—â–∞–µ–º—ã–µ –¥–∞–Ω–Ω—ã–µ:**
- –î–∞—Ç–∞
- –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–ø—Ä–æ—Å–æ–≤
- –î–æ–ª—è (%)

**–ü—Ä–∏–º–µ—Ä –∑–∞–ø—Ä–æ—Å–∞:**
```json
{
  "phrase": "–∫—É–ø–∏—Ç—å –Ω–æ—Å–∫–∏",
  "period": "monthly",
  "fromDate": "2024-01-01",
  "toDate": "2025-09-30",
  "devices": ["desktop"]
}
```

**–ü—Ä–∏–º–µ—Ä —É—Å–ø–µ—à–Ω–æ–≥–æ –æ—Ç–≤–µ—Ç–∞:**
```
‚úÖ –î–∏–Ω–∞–º–∏–∫–∞ –∑–∞–ø—Ä–æ—Å–∞ '–∫—É–ø–∏—Ç—å –Ω–æ—Å–∫–∏' (–ø–µ—Ä–∏–æ–¥: monthly)

üìÖ 2024-01-01: 95045 –∑–∞–ø—Ä–æ—Å–æ–≤ (–¥–æ–ª—è: 0.0008%)
üìÖ 2024-02-01: 101032 –∑–∞–ø—Ä–æ—Å–æ–≤ (–¥–æ–ª—è: 0.0010%)
üìÖ 2024-03-01: 77684 –∑–∞–ø—Ä–æ—Å–æ–≤ (–¥–æ–ª—è: 0.0007%)
...
üìÖ 2025-09-01: 65156 –∑–∞–ø—Ä–æ—Å–æ–≤ (–¥–æ–ª—è: 0.0006%)
```

---

### 5Ô∏è‚É£ `wordstat_get_regions_tree`

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –ü–æ–ª—É—á–µ–Ω–∏–µ –ø–æ–ª–Ω–æ–≥–æ –¥–µ—Ä–µ–≤–∞ —Ä–µ–≥–∏–æ–Ω–æ–≤ Yandex

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:** –ù–µ—Ç

**‚ö†Ô∏è –í–∞–∂–Ω–æ:** API –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç **—Å–ø–∏—Å–æ–∫** –Ω–∞–ø—Ä—è–º—É—é, –∞ –Ω–µ –æ–±—ä–µ–∫—Ç —Å –∫–ª—é—á–æ–º `regions`.

**–§–æ—Ä–º–∞—Ç –æ—Ç–≤–µ—Ç–∞ API:**
```json
[
  {
    "value": "225",
    "label": "–†–æ—Å—Å–∏—è",
    "children": [
      {
        "value": "213",
        "label": "–ú–æ—Å–∫–≤–∞",
        "children": [...]
      }
    ]
  }
]
```

**–°—Ç—Ä—É–∫—Ç—É—Ä–∞ —É–∑–ª–∞:**
- `value` (string) ‚Äî ID —Ä–µ–≥–∏–æ–Ω–∞
- `label` (string) ‚Äî –ù–∞–∑–≤–∞–Ω–∏–µ —Ä–µ–≥–∏–æ–Ω–∞
- `children` (array | null) ‚Äî –î–æ—á–µ—Ä–Ω–∏–µ —Ä–µ–≥–∏–æ–Ω—ã (–º–æ–∂–µ—Ç –±—ã—Ç—å `null`)

**–í–æ–∑–≤—Ä–∞—â–∞–µ–º—ã–µ –¥–∞–Ω–Ω—ã–µ:**
- –î—Ä–µ–≤–æ–≤–∏–¥–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ä–µ–≥–∏–æ–Ω–æ–≤ —Å ID –∏ –Ω–∞–∑–≤–∞–Ω–∏—è–º–∏
- –í–ª–æ–∂–µ–Ω–Ω—ã–µ –¥–æ—á–µ—Ä–Ω–∏–µ —Ä–µ–≥–∏–æ–Ω—ã
- –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ: –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç—Å—è –ø–µ—Ä–≤—ã–µ 20 —Ä–µ–≥–∏–æ–Ω–æ–≤ –∫–æ—Ä–Ω–µ–≤–æ–≥–æ —É—Ä–æ–≤–Ω—è

**–ü—Ä–∏–º–µ—Ä —É—Å–ø–µ—à–Ω–æ–≥–æ –æ—Ç–≤–µ—Ç–∞:**
```
‚úÖ –î–µ—Ä–µ–≤–æ —Ä–µ–≥–∏–æ–Ω–æ–≤ Yandex Wordstat:

‚Ä¢ –†–æ—Å—Å–∏—è (ID: 225)
  ‚Ä¢ –¶–µ–Ω—Ç—Ä–∞–ª—å–Ω—ã–π —Ñ–µ–¥–µ—Ä–∞–ª—å–Ω—ã–π –æ–∫—Ä—É–≥ (ID: 3)
    ‚Ä¢ –ú–æ—Å–∫–≤–∞ –∏ –ú–æ—Å–∫–æ–≤—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å (ID: 1)
      ‚Ä¢ –ú–æ—Å–∫–≤–∞ (ID: 213)
        ‚Ä¢ –ó–µ–ª–µ–Ω–æ–≥—Ä–∞–¥ (ID: 216)
        ‚Ä¢ –¢—Ä–æ–∏—Ü–∫ (ID: 20674)
        ‚Ä¢ –©–µ—Ä–±–∏–Ω–∫–∞ (ID: 21624)
  ‚Ä¢ –°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥ –∏ –õ–µ–Ω–∏–Ω–≥—Ä–∞–¥—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å (ID: 10174)
...

üí° –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ ID —Ä–µ–≥–∏–æ–Ω–æ–≤ –¥–ª—è –¥—Ä—É–≥–∏—Ö –∑–∞–ø—Ä–æ—Å–æ–≤
```

---

## üêõ –ò–∑–≤–µ—Å—Ç–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã –∏ —Ä–µ—à–µ–Ω–∏—è

### ‚ùå –û—à–∏–±–∫–∞: `400 - Unknown device: mobile`

**–ü—Ä–∏—á–∏–Ω–∞:** Yandex Wordstat API v1 –ù–ï –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –∑–Ω–∞—á–µ–Ω–∏–µ `"mobile"` –¥–ª—è –ø–∞—Ä–∞–º–µ—Ç—Ä–∞ `devices`.

**–†–µ—à–µ–Ω–∏–µ:** –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –≤–º–µ—Å—Ç–æ —ç—Ç–æ–≥–æ:
- `"all"` ‚Äî –≤—Å–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞
- `"desktop"` ‚Äî –Ω–∞—Å—Ç–æ–ª—å–Ω—ã–µ –∫–æ–º–ø—å—é—Ç–µ—Ä—ã
- `"phone"` ‚Äî —Å–º–∞—Ä—Ç—Ñ–æ–Ω—ã (–≤–º–µ—Å—Ç–æ mobile!)
- `"tablet"` ‚Äî –ø–ª–∞–Ω—à–µ—Ç—ã

**–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ –≤:** –û–±–Ω–æ–≤–ª–µ–Ω–∏–∏ –æ—Ç 15.10.2025, 01:45

---

### ‚ùå –û—à–∏–±–∫–∞: `'list' object has no attribute 'get'` (wordstat_get_regions)

**–ü—Ä–∏—á–∏–Ω–∞:** –í –º–µ—Ç–æ–¥–µ `wordstat_get_regions` –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—Ç–≤–µ—Ç–∞ API. –ö–æ–¥ –ø—ã—Ç–∞–ª—Å—è –≤—ã–∑–≤–∞—Ç—å `.get()` –Ω–∞ —Å–ø–∏—Å–∫–µ –∏–ª–∏ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ –æ–±—Ä–∞—â–∞–ª—Å—è –∫ —ç–ª–µ–º–µ–Ω—Ç–∞–º –º–∞—Å—Å–∏–≤–∞ `regions`.

**–†–µ—à–µ–Ω–∏–µ:** 
1. –î–æ–±–∞–≤–ª–µ–Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞ —Ç–∏–ø–∞ –¥–∞–Ω–Ω—ã—Ö –ø–µ—Ä–µ–¥ –æ–±—Ä–∞–±–æ—Ç–∫–æ–π: `isinstance(data, dict) and 'regions' in data`
2. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –±–µ–∑–æ–ø–∞—Å–Ω–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞ —á–µ—Ä–µ–∑ `.get()` –¥–ª—è –≤—Å–µ—Ö –ø–æ–ª–µ–π: `item.get('regionId', 'N/A')`
3. –î–æ–±–∞–≤–ª–µ–Ω–æ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —Ç–∏–ø–∞ –∏ —Å–æ–¥–µ—Ä–∂–∏–º–æ–≥–æ –æ—Ç–≤–µ—Ç–∞ –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏

**–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ –≤:** –û–±–Ω–æ–≤–ª–µ–Ω–∏–∏ –æ—Ç 15.10.2025, 02:00

---

### ‚ùå –û—à–∏–±–∫–∞: API –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç `list` –≤–º–µ—Å—Ç–æ –æ–±—ä–µ–∫—Ç–∞ (wordstat_get_regions_tree)

**–ü—Ä–∏—á–∏–Ω–∞:** –ú–µ—Ç–æ–¥ `/v1/getRegionsTree` –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç **–º–∞—Å—Å–∏–≤ –Ω–∞–ø—Ä—è–º—É—é**, –∞ –Ω–µ –æ–±—ä–µ–∫—Ç —Å –∫–ª—é—á–æ–º `regions`. –¢–∞–∫–∂–µ —É–∑–ª—ã –∏—Å–ø–æ–ª—å–∑—É—é—Ç –ø–æ–ª—è `value` –∏ `label` –≤–º–µ—Å—Ç–æ `id` –∏ `name`.

**–§–∞–∫—Ç–∏—á–µ—Å–∫–∏–π —Ñ–æ—Ä–º–∞—Ç API:**
```json
[
  {
    "value": "225",
    "label": "–†–æ—Å—Å–∏—è",
    "children": [...]
  }
]
```

**–û–∂–∏–¥–∞–µ–º—ã–π —Ñ–æ—Ä–º–∞—Ç (–Ω–µ–≤–µ—Ä–Ω–æ):**
```json
{
  "regions": [
    {
      "id": "225",
      "name": "–†–æ—Å—Å–∏—è",
      "children": [...]
    }
  ]
}
```

**–†–µ—à–µ–Ω–∏–µ:**
1. –î–æ–±–∞–≤–ª–µ–Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞: –µ—Å–ª–∏ `data` ‚Äî —Å–ø–∏—Å–æ–∫, –∏—Å–ø–æ–ª—å–∑—É–µ–º –µ–≥–æ –Ω–∞–ø—Ä—è–º—É—é
2. –ü–∞—Ä—Å–µ—Ä —Ç–µ–ø–µ—Ä—å —á–∏—Ç–∞–µ—Ç `value` –∏ `label` –≤–º–µ—Å—Ç–æ `id` –∏ `name`
3. –î–æ–±–∞–≤–ª–µ–Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∞ `children` –∫–∞–∫ `None` (–Ω–µ —Ç–æ–ª—å–∫–æ `[]`)
4. –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –≤ 20 —Ä–µ–≥–∏–æ–Ω–æ–≤ –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –∫ –∫–æ—Ä–Ω–µ–≤–æ–º—É —É—Ä–æ–≤–Ω—é

**–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ –≤:** –û–±–Ω–æ–≤–ª–µ–Ω–∏–∏ –æ—Ç 15.10.2025, 02:05

---

## üîê –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏

### –®–∞–≥ 1: –ü–æ–ª—É—á–µ–Ω–∏–µ Client ID –∏ Client Secret

1. –ó–∞–π–¥–∏—Ç–µ –Ω–∞ [https://oauth.yandex.ru](https://oauth.yandex.ru)
2. –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
3. –í–∫–ª—é—á–∏—Ç–µ –¥–æ—Å—Ç—É–ø –∫ **API –Ø–Ω–¥–µ–∫—Å.–î–∏—Ä–µ–∫—Ç**
4. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ `Client ID` –∏ `Client Secret`

### –®–∞–≥ 2: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –≤ dashboard

1. –û—Ç–∫—Ä–æ–π—Ç–µ [https://mcp-kv.ru/dashboard](https://mcp-kv.ru/dashboard)
2. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ **Settings** ‚Üí **Wordstat API –Ω–∞—Å—Ç—Ä–æ–π–∫–∏**
3. –í–≤–µ–¥–∏—Ç–µ:
   - Client ID
   - Client Secret
   - Redirect URI (–Ω–∞–ø—Ä–∏–º–µ—Ä: `https://mcp-kv.ru/dashboard` –∏–ª–∏ `http://localhost:3000/dashboard`)
4. –ù–∞–∂–º–∏—Ç–µ **"–°–æ—Ö—Ä–∞–Ω–∏—Ç—å –∏ –ø–æ–ª—É—á–∏—Ç—å —Å—Å—ã–ª–∫—É"**

### –®–∞–≥ 3: –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è

1. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—É—é OAuth-—Å—Å—ã–ª–∫—É
2. –û—Ç–∫—Ä–æ–π—Ç–µ –µ–µ –≤ –±—Ä–∞—É–∑–µ—Ä–µ
3. –†–∞–∑—Ä–µ—à–∏—Ç–µ –¥–æ—Å—Ç—É–ø
4. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ `code` –∏–∑ URL –ø–æ—Å–ª–µ —Ä–µ–¥–∏—Ä–µ–∫—Ç–∞
5. –í—Å—Ç–∞–≤—å—Ç–µ –∫–æ–¥ –≤ –ø–æ–ª–µ **"–í–≤–µ–¥–∏—Ç–µ –∫–æ–¥ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏"**
6. –ù–∞–∂–º–∏—Ç–µ **"–ü–æ–ª—É—á–∏—Ç—å —Ç–æ–∫–µ–Ω"**

---

## üìä –õ–∏–º–∏—Ç—ã API

–ò–∑ —É—Å–ø–µ—à–Ω–æ–≥–æ —Ç–µ—Å—Ç–∞ (–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å `horpho`):

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –ó–Ω–∞—á–µ–Ω–∏–µ |
|----------|----------|
| –õ–∏–º–∏—Ç –∑–∞–ø—Ä–æ—Å–æ–≤/—Å–µ–∫ | 10 |
| –î–Ω–µ–≤–Ω–æ–π –ª–∏–º–∏—Ç | 1024 |
| –û—Å—Ç–∞–ª–æ—Å—å —Å–µ–≥–æ–¥–Ω—è | 1019 |

**üí° –°–æ–≤–µ—Ç:** –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `wordstat_get_user_info` –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ –æ—Å—Ç–∞—Ç–∫–∞ –∫–≤–æ—Ç—ã.

---

## üöÄ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π —Ç–µ—Å—Ç (–≤—Å–µ –º–µ—Ç–æ–¥—ã):

1. **User Info:**
   ```
   wordstat_get_user_info()
   ```

2. **Top Requests:**
   ```json
   {
     "phrase": "–∫—É–ø–∏—Ç—å –Ω–æ—Å–∫–∏",
     "numPhrases": 10
   }
   ```

3. **Regions:**
   ```json
   {
     "phrase": "–∫—É–ø–∏—Ç—å –Ω–æ—Å–∫–∏",
     "devices": ["desktop"]
   }
   ```

4. **Dynamics:**
   ```json
   {
     "phrase": "–∫—É–ø–∏—Ç—å –Ω–æ—Å–∫–∏",
     "period": "monthly",
     "fromDate": "2024-01-01",
     "toDate": "2025-09-30"
   }
   ```

5. **Regions Tree:**
   ```
   wordstat_get_regions_tree()
   ```

---

## üìù –ò–∑–º–µ–Ω–µ–Ω–∏—è

### 15.10.2025, 02:05
- üêõ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –æ—à–∏–±–∫–∞ –≤ `wordstat_get_regions_tree`: API –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å–ø–∏—Å–æ–∫, –∞ –Ω–µ –æ–±—ä–µ–∫—Ç
- ‚úÖ –ü–∞—Ä—Å–µ—Ä —Ç–µ–ø–µ—Ä—å –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –ø–æ–ª—è `value` –∏ `label` –≤–º–µ—Å—Ç–æ `id` –∏ `name`
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∞ `children: null` (–Ω–µ —Ç–æ–ª—å–∫–æ –ø—É—Å—Ç–æ–≥–æ –º–∞—Å—Å–∏–≤–∞)
- ‚úÖ –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –≤ 20 —Ä–µ–≥–∏–æ–Ω–æ–≤ –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –∫ –∫–æ—Ä–Ω–µ–≤–æ–º—É —É—Ä–æ–≤–Ω—é

### 15.10.2025, 02:00
- üêõ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –æ—à–∏–±–∫–∞ `'list' object has no attribute 'get'` –≤ `wordstat_get_regions`
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞ —Ç–∏–ø–∞ –¥–∞–Ω–Ω—ã—Ö –ø–µ—Ä–µ–¥ –æ–±—Ä–∞–±–æ—Ç–∫–æ–π –æ—Ç–≤–µ—Ç–∞ API
- ‚úÖ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –±–µ–∑–æ–ø–∞—Å–Ω–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞ `.get()` –¥–ª—è –≤—Å–µ—Ö –ø–æ–ª–µ–π –æ—Ç–≤–µ—Ç–∞
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–æ –ø–æ–¥—Ä–æ–±–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏

### 15.10.2025, 01:45
- ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω `wordstat_get_regions_tree` –¥–ª—è –ø–µ—Ä–≤–æ–≥–æ SSE –±–ª–æ–∫–∞
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω—ã `enum` –¥–ª—è –ø–∞—Ä–∞–º–µ—Ç—Ä–∞ `devices`: `all`, `desktop`, `phone`, `tablet`
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω—ã –æ–ø–∏—Å–∞–Ω–∏—è –¥–ª—è –≤—Å–µ—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –≤ `inputSchema`
- ‚ö†Ô∏è –î–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∞ –ø—Ä–æ–±–ª–µ–º–∞ —Å `"mobile"` ‚Üí –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `"phone"` –∏–ª–∏ `"tablet"`

### 15.10.2025, 01:35
- ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω `wordstat_get_regions_tree` –¥–ª—è –≤—Ç–æ—Ä–æ–≥–æ SSE –±–ª–æ–∫–∞
- ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω `wordstat_get_dynamics`
- ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω `wordstat_get_regions` (–¥–æ–±–∞–≤–ª–µ–Ω—ã –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã `phrase`, `regionType`, `devices`)
- ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—Ç–≤–µ—Ç–∞ –¥–ª—è `wordstat_get_regions` (–ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –ø–æ–ª—è: `regionId`, `count`, `share`, `affinityIndex`)

---

## üéâ –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

**–í–°–ï 5 –ú–ï–¢–û–î–û–í YANDEX WORDSTAT API V1 –ü–û–õ–ù–û–°–¢–¨–Æ –†–ê–ë–û–¢–ê–Æ–¢!**

–¢–æ–∫–µ–Ω –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω –ø–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º. –ö–∞–∂–¥—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∏–º–µ–µ—Ç —Å–≤–æ–π —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–π `access_token` –∏ `refresh_token`.

**–ì–æ—Ç–æ–≤–æ –∫ –ø—Ä–æ–¥–∞–∫—à–µ–Ω—É! üöÄ**

